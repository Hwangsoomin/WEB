webpackJsonp([1],{NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("img",{attrs:{src:n("qfJR")}}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},r,!1,function(t){n("ZxEr")},null,null).exports,s=n("/ocq"),o={name:"INDEX",data:function(){return{email:""}},created:function(){var t=this;this.$http.get("/api/look/email").then(function(e){console.log(e.data),t.email=e.data})},methods:{logOut:function(){var t=this;this.$http.get("/api/logout").then(function(e){t.$router.go("/")})}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"wrap"}},[n("span",{staticClass:"title"},[t._v("Hello "+t._s(t.email))]),t._v(" "),n("div",{staticClass:"user"},[n("input",{staticClass:"btn",attrs:{type:"button",onclick:"location.href='/login'",value:"LOGIN"}}),t._v(" "),n("input",{staticClass:"btn",attrs:{type:"button",onclick:"location.href='/signup'",value:"SIGNUP"}}),t._v(" "),n("input",{staticClass:"btn",attrs:{type:"button",onclick:"location.href='/board'",value:"게시판"}}),t._v(" "),n("button",{on:{click:t.logOut}},[t._v("LOGOUT")])])])},staticRenderFns:[]},u=n("VU/8")(o,l,!1,null,null,null).exports,p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("strong",[this._v(this._s(this.message))]),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("form",{attrs:{action:"/api/login",method:"post"}},[e("label",{attrs:{for:"email"}},[this._v("E-MAIL")]),this._v(" "),e("input",{attrs:{name:"email",type:"email",required:""}}),e("br"),this._v(" "),e("label",{attrs:{for:"password"}},[this._v("PASSWORD")]),this._v(" "),e("input",{attrs:{name:"password",type:"password",required:""}}),e("br"),this._v(" "),e("button",{staticClass:"btn"},[this._v("LOGIN!")])])}]},c=n("VU/8")({name:"LOGIN",data:function(){return{message:""}},mounted:function(){var t=this;this.$http.get("/api/look/flash").then(function(e){t.message=e.data})}},p,!1,null,null,null).exports,d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{staticClass:"signupform",attrs:{action:"/api/signup",method:"post"}},[n("label",{attrs:{for:"email"}},[t._v("E-MAIL")]),t._v(" "),n("input",{attrs:{name:"email",type:"email",required:""}}),t._v(" "),n("br"),t._v(" "),n("label",{attrs:{for:"password"}},[t._v("PASSWORD")]),t._v(" "),n("input",{attrs:{name:"password",type:"password",required:""}}),n("br"),t._v(" "),n("label",{attrs:{for:"name"}},[t._v("NAME")]),t._v(" "),n("input",{attrs:{name:"name",type:"text",required:""}}),n("br"),t._v(" "),n("label",{attrs:{for:"adminCode"}},[t._v("ADMIN CODE")]),t._v(" "),n("input",{attrs:{name:"adminCode",type:"text"}}),n("br"),t._v(" "),n("button",{staticClass:"btn"},[t._v("SIGNUP!")])])])}]},v=n("VU/8")(null,d,!1,null,null,null).exports,_={name:"confirm",created:function(){var t=this;alert("들어왔다"),this.$http.get("/api"+this.$route.fullPath).then(function(e){alert(e.data),t.$router.push("/")})}},h={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},m=n("VU/8")(_,h,!1,null,null,null).exports,f={created:function(){var t=this;this.$http.get("/api/look/login").then(function(e){e.data?t.email=e.data.email:(alert("로그인한 사용자만 작성할 수 있습니다."),t.$router.push("/"))})},data:function(){return{email:"",date:new Date}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{attrs:{id:"board_write",method:"post",action:"/api/board/write"}},[t._m(0),t._v(" "),t._m(1),t._v(" "),n("div",[t._v("\n            "+t._s(t.email)+" "+t._s(t.date)+"\n        ")]),t._v(" "),t._m(2),t._v(" "),n("button",{staticClass:"btn"},[t._v("WRITE!")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("select",{attrs:{name:"category"}},[e("option",{attrs:{value:"fr",selected:""}},[this._v("자유")]),this._v(" "),e("option",{attrs:{value:"qu"}},[this._v("질문")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("input",{attrs:{name:"title",type:"text",placeholder:"title"}}),e("br")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("input",{attrs:{name:"content",type:"textarea",placeholder:"content를 입력해주세요"}}),e("br")])}]},g=n("VU/8")(f,b,!1,null,null,null).exports,$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["fr"===t.post.category?n("span",[t._v("자유")]):t._e(),t._v(" "),"qu"===t.post.category?n("span",[t._v("질문")]):t._e(),t._v(" "),n("br"),t._v(" "),n("span",[t._v(t._s(t.post.title))]),n("br"),t._v(" "),n("span",[t._v(t._s(t.post.auth)),n("span",[n("span",[t._v(t._s(t.post.date))]),n("br"),t._v(" "),n("span",[t._v(t._s(t.post.content))]),n("br"),t._v(" "),t.edit?n("button",{staticClass:"btn"},[n("router-link",{attrs:{to:{path:"/board/edit/"+t.post._id}}},[t._v("EDIT")])],1):t._e()])])])},staticRenderFns:[]},w=n("VU/8")({created:function(){var t=this,e=this.$route.params.id;this.$http.get("/api/board/view/"+e).then(function(e){t.post=e.data,t.$http.get("/api/look/email").then(function(e){t.email=e.data,t.email===t.post.auth?t.edit=!0:t.edit=!1})})},data:function(){return{post:"",email:"",edit:""}}},$,!1,null,null,null).exports,E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"btn"},[n("router-link",{attrs:{to:{path:"/board/write"}}},[t._v("글쓰기")])],1),t._v(" "),t._l(t.posts,function(e){return n("div",{key:e._id},[n("li",["fr"===e.category?n("span",[t._v("자유")]):t._e(),t._v(" "),"qu"===e.category?n("span",[t._v("질문")]):t._e(),t._v(" "),n("br"),t._v(" "),n("router-link",{attrs:{to:{path:"/board/view/"+e._id}}},[n("div",{staticClass:"info"},[n("span",[t._v(t._s(e.title))]),n("br"),t._v(" "),n("span",[t._v(t._s(e.auth)+" "+t._s(e.date))]),n("br")])])],1)])})],2)},staticRenderFns:[]},y=n("VU/8")({name:"board",created:function(){var t=this;this.$http.get("/api/board").then(function(e){t.posts=e.data})},data:function(){return{posts:[]}}},E,!1,null,null,null).exports,x={created:function(){var t=this,e=this.$route.params.id;this.$http.get("/api/look/email").then(function(n){t.email=n.data,t.$http.get("/api/board/view/"+e).then(function(e){console.log("왜 안들어가"),t.post=e.data,t.email!==t.post.auth&&(alert("게시글을 수정할 권한이 없습니다."),t.$router.push("/board"))})})},data:function(){return{post:"",email:""}},methods:{onSubmit:function(){var t=this,e=this.$refs.post.title.value,n=this.$refs.post.content.value;console.log("에디트 들어옴"),this.$http.post("/api/board/edit/"+post._id,{title:e,content:n}).then(function(e){alert(e.data),t.$router.push("/board/view/"+t.post._id)})}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("div",["fr"===t.post.category?n("span",[t._v("자유")]):t._e(),t._v(" "),"qu"===t.post.category?n("span",[t._v("질문")]):t._e()]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],ref:"post.title",attrs:{type:"text",id:"post.title"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}})]),t._v(" "),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.content,expression:"post.content"}],ref:"post.content",attrs:{id:"post.content"},domProps:{value:t.post.content},on:{input:function(e){e.target.composing||t.$set(t.post,"content",e.target.value)}}})]),t._v(" "),n("button",{attrs:{type:"submit"}},[t._v("UPLOAD!")]),t._v(" "),n("form")])])},staticRenderFns:[]},k=n("VU/8")(x,C,!1,null,null,null).exports;a.a.use(s.a);var R=new s.a({mode:"history",routes:[{path:"/",name:"index",component:u},{path:"/login",name:"login",component:c},{path:"/signup",name:"signup",component:v},{path:"/confirmEmail",name:"confirm",component:m},{path:"/board/write",name:"boardwrite",component:g},{path:"/board/view/:id",name:"boardview",component:w},{path:"/board",name:"board",component:y},{path:"/board/edit/:id",name:"boardEdit",component:k}]}),U=n("mtWM"),q=n.n(U);a.a.prototype.$http=q.a,a.a.config.productionTip=!1,new a.a({el:"#app",router:R,components:{App:i},template:"<App/>"})},ZxEr:function(t,e){},qfJR:function(t,e,n){t.exports=n.p+"static/img/catholic.3a7a90e.png"}},["NHnr"]);
//# sourceMappingURL=app.681b7ee2094dddb2725d.js.map