webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("img",{attrs:{src:a("qfJR")}}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},s,!1,function(t){a("ZxEr")},null,null).exports,r=a("/ocq"),o={name:"INDEX",data:function(){return{email:"",infoF:!1}},created:function(){var t=this;this.$http.get("/api/look/email").then(function(e){console.log(e.data),t.email=e.data})},methods:{logOut:function(){var t=this;this.$http.get("/api/logout").then(function(e){t.$router.go("/")})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrap"}},[a("span",{staticClass:"title"},[t._v("Hello "+t._s(t.email))]),t._v(" "),a("div",{staticClass:"user"},[a("input",{staticClass:"btn",attrs:{type:"button",onclick:"location.href='/login'",value:"LOGIN"}}),t._v(" "),a("input",{staticClass:"btn",attrs:{type:"button",onclick:"location.href='/signUp'",value:"SIGNUP"}}),t._v(" "),a("input",{staticClass:"btn",attrs:{type:"button",onclick:"location.href='/board'",value:"게시판"}}),t._v(" "),a("div",[!1===t.infoF?a("div",[a("input",{staticClass:"btn",attrs:{type:"button",value:"나의정보"},on:{click:function(e){t.infoF=!0}}})]):t._e(),t._v(" "),!0===t.infoF?a("div",[a("input",{staticClass:"btn",attrs:{type:"button",onclick:"location.href='/myinfo/nick'",value:"닉네임변경"}}),t._v(" "),a("input",{staticClass:"btn",attrs:{type:"button",onclick:"location.href='/myinfo/pass'",value:"비밀번호변경"}})]):t._e()]),t._v(" "),a("button",{on:{click:t.logOut}},[t._v("LOGOUT")])])])},staticRenderFns:[]},u=a("VU/8")(o,l,!1,null,null,null).exports,c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("strong",[this._v(this._s(this.message))]),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("form",{attrs:{action:"/api/login",method:"post"}},[e("label",{attrs:{for:"email"}},[this._v("E-MAIL")]),this._v(" "),e("input",{attrs:{name:"email",type:"email",required:""}}),e("br"),this._v(" "),e("label",{attrs:{for:"password"}},[this._v("PASSWORD")]),this._v(" "),e("input",{attrs:{name:"password",type:"password",required:""}}),e("br"),this._v(" "),e("button",{staticClass:"btn"},[this._v("LOGIN!")])])}]},p=a("VU/8")({name:"LOGIN",data:function(){return{message:""}},mounted:function(){var t=this;this.$http.get("/api/look/flash").then(function(e){t.message=e.data})}},c,!1,null,null,null).exports,d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"signupform",attrs:{action:"/api/signup",method:"post"}},[a("label",{attrs:{for:"email"}},[t._v("E-MAIL")]),t._v(" "),a("input",{attrs:{name:"email",type:"email",required:""}}),t._v(" "),a("br"),t._v(" "),a("label",{attrs:{for:"password"}},[t._v("PASSWORD")]),t._v(" "),a("input",{attrs:{name:"password",type:"password",required:""}}),a("br"),t._v(" "),a("label",{attrs:{for:"name"}},[t._v("NAME")]),t._v(" "),a("input",{attrs:{name:"name",type:"text",required:""}}),a("br"),t._v(" "),a("label",{attrs:{for:"adminCode"}},[t._v("ADMIN CODE")]),t._v(" "),a("input",{attrs:{name:"adminCode",type:"text"}}),a("br"),t._v(" "),a("button",{staticClass:"btn"},[t._v("SIGNUP!")])])])}]},m=a("VU/8")(null,d,!1,null,null,null).exports,v={name:"confirm",created:function(){var t=this;alert("들어왔다"),this.$http.get("/api"+this.$route.fullPath).then(function(e){alert(e.data),t.$router.push("/")})}},_={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},h=a("VU/8")(v,_,!1,null,null,null).exports,f={created:function(){var t=this;this.$http.get("/api/look/login").then(function(e){e.data?t.email=e.data.email:(alert("로그인한 사용자만 작성할 수 있습니다."),t.$router.push("/"))})},data:function(){return{email:"",date:new Date}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{id:"board_write",method:"post",action:"/api/board/write"}},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",[t._v("\n            "+t._s(t.email)+" "+t._s(t.date)+"\n        ")]),t._v(" "),t._m(2),t._v(" "),a("button",{staticClass:"btn"},[t._v("WRITE!")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("select",{attrs:{name:"category"}},[e("option",{attrs:{value:"fr",selected:""}},[this._v("자유")]),this._v(" "),e("option",{attrs:{value:"qu"}},[this._v("질문")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("input",{attrs:{name:"title",type:"text",placeholder:"title"}}),e("br")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("input",{attrs:{name:"content",type:"textarea",placeholder:"content를 입력해주세요"}}),e("br")])}]},g=a("VU/8")(f,b,!1,null,null,null).exports,w={created:function(){var t=this,e=this.$route.params.id;this.$http.get("/api/board/view/"+e).then(function(e){t.post=e.data,t.$http.get("/api/look/email").then(function(e){t.email=e.data,t.email===t.post.auth?t.edit=!0:t.edit=!1})})},data:function(){return{post:"",email:"",edit:"",del:!1,comments:[]}},methods:{Delete:function(t){var e=this,a=this.$route.params.id;this.$http.delete("/api/board/delete/"+a).then(function(t){alert(t.data),e.$router.push("/board")})}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["fr"===t.post.category?a("span",[t._v("자유")]):t._e(),t._v(" "),"qu"===t.post.category?a("span",[t._v("질문")]):t._e(),t._v(" "),a("br"),t._v(" "),a("span",[t._v("제목: "+t._s(t.post.title))]),a("br"),t._v(" "),a("span",[t._v("작성자: "+t._s(t.post.auth)),a("span",[t._v("  "),a("span",[t._v("날짜: "+t._s(t.post.date))]),a("br"),t._v(" "),a("span",[t._v("내용: "+t._s(t.post.content))]),a("br"),t._v(" "),t.edit?a("button",{staticClass:"btn"},[a("router-link",{attrs:{to:{path:"/board/edit/"+t.post._id}}},[t._v("EDIT")])],1):t._e(),t._v(" "),t.edit?a("button",{staticClass:"btn",on:{click:function(e){t.del=!0}}},[t._v("DELETE\n    ")]):t._e(),t._v(" "),a("v-card-text",[t.del?a("v-card-text",[a("v-alert",[a("h4",[t._v("정말 삭제 하시겠습니까?")]),t._v(" "),a("button",{on:{click:t.Delete}},[t._v("확인")]),t._v(" "),a("button",{on:{click:function(e){t.del=!1}}},[t._v("취소")])])],1):t._e()],1),t._v(" "),a("h4",[t._v("Comments")])],1)])])},staticRenderFns:[]},$=a("VU/8")(w,P,!1,null,null,null).exports,k={name:"board",created:function(){var t=this;this.$http.get("/api"+this.$route.fullPath).then(function(e){console.log(e.data),t.posts=e.data.posts,t.currentPage=e.data.currentPage,t.maxPage=e.data.maxPage,t.limit=e.data.limit,t.currentPage>1&&(t.previousBtnEnabled=!0),t.currentPage<t.maxPage&&(t.nextBtnEnabled=!0),t.nextPage=t.currentPage+1,t.prePage=t.currentPage-1,t.p1=t.currentPage-2,t.p2=t.currentPage+2,t.pmaxPage=t.maxPage-1,console.log(t.currentPage),console.log(t.maxPage),console.log(t.limit),console.log(t.previousBtnEnabled),console.log(t.nextBtnEnabled)})},data:function(){return{posts:[],p1:"",p2:"",previousBtnEnabled:!1,nextBtnEnabled:!1,limit:"",currentPage:"",maxPage:"",pmaxPage:"",i:0,nextPage:"",prePage:""}},watch:{$route:function(){this.$router.go(this.$router.currentRoute)}},methods:{}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",{staticClass:"board-table table table-sm border-bottom"},[t._m(0),t._v(" "),a("tbody",[null===t.posts||0===t.posts.length?a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("There is no data to show :( ")])]):t._e(),t._v(" "),t._l(t.posts,function(e){return a("tr",{key:e._id},[a("td",["fr"===e.category?a("div",{staticClass:"ellipsis"},[t._v("자유")]):t._e(),t._v(" "),"qu"===e.category?a("div",{staticClass:"ellipsis"},[t._v("질문")]):t._e()]),t._v(" "),a("td",[a("router-link",{attrs:{to:{path:"/board/view/"+e._id}}},[a("div",{staticClass:"ellipsis"},[t._v(t._s(e.title))])])],1),t._v(" "),a("td",{staticClass:"author"},[a("div",{staticClass:"ellipsis"},[t._v(t._s(e.auth))])]),t._v(" "),a("td",{staticClass:"date"},[a("div",{staticClass:"ellipsis"},[t._v(t._s(e.date))])])])})],2)]),t._v(" "),t._m(1),t._v(" "),t.previousBtnEnabled?a("button",{on:{click:t.preP}},[a("router-link",{attrs:{to:{path:"/board",query:{page:t.prePage,limit:t.limit}}}},[t._v("«")])],1):t._e(),t._v(" "),t._l(t.maxPage,function(e){return a("div",{key:e},[1===e||e===t.maxPage||e>=t.p1&&e<=t.p2?a("div",[e!==t.currentPage?a("button",{staticClass:"page-item"},[a("router-link",{attrs:{to:{path:"/board?page="+e+"&limit="+t.limit}}},[t._v(t._s(e))])],1):a("button",[t._v(t._s(e))])]):2===e||e===t.pmaxPage?a("div",[t._m(2,!0)]):t._e()])}),t._v(" "),t.nextBtnEnabled?a("button",[a("router-link",{attrs:{to:{path:"/board?page="+t.nextPage+"&limit="+t.limit}}},[t._v("»")])],1):t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",{attrs:{scope:"col"}},[this._v("Title")]),this._v(" "),e("th",{staticClass:"author",attrs:{scope:"col"}},[this._v("Author")]),this._v(" "),e("th",{staticClass:"date",attrs:{scope:"col"}},[this._v("Date")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-2"},[e("a",{staticClass:"btn btn-primary",attrs:{href:"/board/write"}},[this._v("New")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",[e("a",{staticClass:"page-link"},[this._v("...")])])}]},x=a("VU/8")(k,y,!1,null,null,null).exports,E={created:function(){var t=this,e=this.$route.params.id;this.$http.get("/api/look/email").then(function(a){t.email=a.data,t.$http.get("/api/board/view/"+e).then(function(e){t.Post=e.data,t.email!==t.Post.auth&&(alert("게시글을 수정할 권한이 없습니다."),t.$router.push("/board"))})})},data:function(){return{Post:"",email:""}},methods:{onSubmit:function(t){var e=this;if(this.Post.title)if(this.Post.content){var a={title:this.Post.title,content:this.Post.content};this.$http.put("/api/board/edit/"+this.Post._id,a).then(function(t){alert(t.data),e.$router.push("/board/view/"+e.Post._id)})}else alert("내용을 작성해주세요.");else alert("제목을 작성해주세요.")}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["fr"===t.Post.category?a("span",[t._v("자유")]):t._e(),t._v(" "),"qu"===t.Post.category?a("span",[t._v("질문")]):t._e(),a("br"),t._v(" "),a("label",[t._v("제목:\n        "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.Post.title,expression:"Post.title",modifiers:{trim:!0}}],attrs:{type:"text"},domProps:{value:t.Post.title},on:{input:function(e){e.target.composing||t.$set(t.Post,"title",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("br"),t._v(" "),a("label",[t._v("내용:\n        "),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.Post.content,expression:"Post.content",modifiers:{trim:!0}}],domProps:{value:t.Post.content},on:{input:function(e){e.target.composing||t.$set(t.Post,"content",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),a("br"),t._v(" "),a("button",{attrs:{type:"submit"},on:{click:t.onSubmit}},[t._v("UPLOAD!")])])},staticRenderFns:[]},U=a("VU/8")(E,C,!1,null,null,null).exports,N={created:function(){var t=this;this.$http.get("/api/look/all").then(function(e){!1===e.data&&(alert("로그인 먼저 해주세요!"),t.$router.push("/login")),t.name=e.data.name,t.email=e.data.email,void 0!=e.data.nickname&&(t.nickname=e.data.nickname)})},data:function(){return{name:"",email:"",password:"",nickname:"",flag:!1,msg:"비밀번호를 입력하세요: "}},methods:{checkPass:function(t){var e=this;this.$http.post("/api/look/pass",{pass:this.password}).then(function(t){0!=t.data?(e.flag=!0,e.password=t.data):e.msg="비밀번호가 일치하지 않습니다. 비밀번호를 다시 입력하세요: "})},modify:function(t){var e=this,a={nickname:this.nickname};this.$http.post("/api/modify/nickname",a).then(function(t){alert(t.data),e.$router.push("/")})}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[!1===t.flag?a("div",[a("label",{attrs:{for:"password"}},[a("h4",[t._v(t._s(t.msg))])]),a("br"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),a("button",{attrs:{type:"btn"},on:{click:t.checkPass}},[t._v("확인")])]):t._e(),t._v(" "),!0===t.flag?a("div",[a("div",[t._v("이름: "+t._s(t.name))]),t._v(" "),a("div",[t._v("이메일: "+t._s(t.email))]),t._v(" "),a("div",[a("label",{attrs:{for:"nickname"}},[t._v("닉네임: \n                "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.nickname,expression:"nickname",modifiers:{trim:!0}}],attrs:{type:"text",id:"nickname",name:"nickname",placeholder:"닉네임입력이 가능합니다"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),a("button",{attrs:{type:"btn"},on:{click:t.modify}},[t._v("변경")])]):t._e()])},staticRenderFns:[]},F=a("VU/8")(N,R,!1,null,null,null).exports,q={created:function(){var t=this;this.$http.get("/api/look/all").then(function(e){!1===e.data&&(alert("로그인 먼저 해주세요!"),t.$router.push("/login"))})},data:function(){return{password:"",npassword:"",nnpassword:""}},methods:{modify:function(t){var e=this;this.$http.post("/api/look/pass",{pass:this.password}).then(function(t){if(t.data=!0){if(e.npassword!==e.nnpassword)return void alert("변경하려는 비밀번호가 일치하지않습니다.");e.$http.post("/api/modify/password",{password:e.npassword}).then(function(t){alert(t.data),e.$router.push("/")})}})}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("label",{attrs:{for:"password"}},[a("h4",[t._v("현재 비밀번호를 입력하세요: ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],attrs:{type:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),a("label",{attrs:{for:"npassword"}},[a("h4",[t._v("변경할 비밀번호를 입력하세요: ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.npassword,expression:"npassword",modifiers:{trim:!0}}],attrs:{type:"password",id:"npassword"},domProps:{value:t.npassword},on:{input:function(e){e.target.composing||(t.npassword=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),a("label",{attrs:{for:"nnpassword"}},[a("h4",[t._v("변경할 비밀번호를 다시 한번 입력하세요: ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.nnpassword,expression:"nnpassword",modifiers:{trim:!0}}],attrs:{type:"password",id:"nnpassword"},domProps:{value:t.nnpassword},on:{input:function(e){e.target.composing||(t.nnpassword=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),a("button",{staticClass:"btn",on:{click:t.modify}},[t._v("변경")])])},staticRenderFns:[]},D=a("VU/8")(q,I,!1,null,null,null).exports;n.a.use(r.a);var O=new r.a({mode:"history",routes:[{path:"/",name:"index",component:u},{path:"/login",name:"login",component:p},{path:"/signup",name:"signup",component:m},{path:"/confirmEmail",name:"confirm",component:h},{path:"/board/write",name:"boardwrite",component:g},{path:"/board/view/:id",name:"boardview",component:$},{path:"/board",name:"board",component:x},{path:"/board/edit/:id",name:"boardEdit",component:U},{path:"/myinfo/nick",name:"myNInfo",component:F},{path:"/myinfo/pass",name:"myPInfo",component:D}]}),A=a("mtWM"),V=a.n(A);n.a.prototype.$http=V.a,n.a.config.productionTip=!1,new n.a({el:"#app",router:O,components:{App:i},template:"<App/>"})},ZxEr:function(t,e){},qfJR:function(t,e,a){t.exports=a.p+"static/img/catholic.3a7a90e.png"}},["NHnr"]);
//# sourceMappingURL=app.ad893d4d1b9cbc277b25.js.map